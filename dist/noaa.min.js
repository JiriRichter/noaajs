((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).NOAA={})})(this,function(t){var X=function(t,e){return(X=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}))(t,e)};function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function a(t,o,s,u){return new(s=s||Promise)(function(i,e){function n(t){try{a(u.next(t))}catch(t){e(t)}}function r(t){try{a(u.throw(t))}catch(t){e(t)}}function a(t){var e;t.done?i(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,r)}a((u=u.apply(t,o||[])).next())})}function s(n,r){var a,o,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=t(0),c.throw=t(1),c.return=t(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function t(i){return function(t){var e=[i,t];if(a)throw new TypeError("Generator is already executing.");for(;u=c&&e[c=0]?0:u;)try{if(a=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,o=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3]))u.label=e[1];else if(6===e[0]&&u.label<s[1])u.label=s[1],s=e;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(e)}}e=r.call(n,u)}catch(t){e=[6,t],o=0}finally{a=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}}function R(t){this.correlationId=t.correlationId,this.detail=t.detail,this.instance=t.instance,this.path=t.path,this.status=t.status,this.title=t.title,this.type=t.type}n.prototype.fetch=function(r){return a(this,void 0,void 0,function(){var e,i,n;return s(this,function(t){switch(t.label){case 0:return[4,fetch(r,{method:"GET",headers:{Accept:"application/geo+json"}})];case 1:return(e=t.sent()).ok?[3,3]:(n=R.bind,[4,e.json()]);case 2:throw i=new(n.apply(R,[void 0,t.sent()])),new Error(i.detail);case 3:return[4,e.json()];case 4:return[2,t.sent()]}})})},n.prototype.get=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){return[2,this.fetch("".concat(n.base_url,"/").concat(e))]})})},n.prototype.getNext=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){return[2,this.fetch(e.nextPageUrl)]})})},n.base_url="https://api.weather.gov";var i=n;function n(){}function r(t){var e=t.getUTCFullYear(),i=t.getUTCMonth()+1,n=t.getUTCDate(),r=t.getUTCHours(),t=t.getUTCMinutes();return"".concat(e).concat(i.toString().padStart(2,"0")).concat(n.toString().padStart(2,"0")," ").concat(r.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))}function F(e){return e?Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&"):""}function x(t,e){e=F(e);return e?"".concat(t,"?").concat(e):t}function o(t){t=t.split("/");return t[t.length-1]}function u(t,e){if(!(t in e))throw new Error("Required property ".concat(t," is not present in JSON data"))}function c(t,e){return u(t,e=void 0===e?!1:e),e[t]}function p(t,e){return u(t,e=void 0===e?!1:e),c(t,e)}function l(t,e){return u(t,e=void 0===e?!1:e),parseFloat(p(t,e))}function h(t,e){return u(t,e=void 0===e?!1:e),parseInt(p(t,e))}function B(t){return new Date(Date.parse(t))}function d(t,e){return u(t,e=void 0===e?!1:e),B(p(t,e))}function _(t){return t.split(":")[1]}var U=function(t){t=c("properties",t),this.id=p("id",t),this.type=p("type",t),"name"in t&&(this.name=p("name",t)),"state"in t&&(this.state=p("state",t))},K=function(t){for(var t=c("properties",t),e=(this.id=p("id",t),this.areaDescription=p("areaDesc",t),this.geocode=p("geocode",t),this.affectedZones=[],p("affectedZones",t)),i=0;i<e.length;i++)this.affectedZones.push(new U(e[i]));this.references=p("references",t),this.sent=d("sent",t),this.effective=d("effective",t),this.onset=d("onset",t),this.expires=d("expires",t),this.ends=d("ends",t),this.status=p("status",t),this.messageType=p("messageType",t),this.category=p("category",t),this.severity=p("severity",t),this.certainty=p("certainty",t),this.urgency=p("urgency",t),this.event=p("event",t),this.sender=p("sender",t),this.senderName=p("senderName",t),this.headline=p("headline",t),this.description=p("description",t),this.instruction=p("instruction",t),this.response=p("response",t),this.parameters=p("parameters",t)},f=(Object.defineProperty(V.prototype,"hasMoreData",{get:function(){return!!this.nextPageUrl},enumerable:!1,configurable:!0}),V);function V(t){this.title=p("title",t),this.updated=d("updated",t);t=c("pagination",t);"next"in t&&(this.nextPageUrl=p("next",t))}e(j,Z=f);var Z,v=j;function j(t){var e=Z.call(this,t)||this,t=c("features",t);return e.data=t.map(function(t){return new K(t)}),e}e(w,m=i),w.prototype.getAll=function(t,e,i,n){return a(this,arguments,void 0,function(e,i,n,r,a){var o;return void 0===a&&(a=500),s(this,function(t){return o=m.prototype.get.call(this,"alerts?".concat(this.getQueryString(e,i,n,r,a))),[2,new v(o)]})})},w.prototype.getActive=function(t,e,i,n){return a(this,arguments,void 0,function(e,i,n,r,a){var o;return void 0===a&&(a=500),s(this,function(t){return o=m.prototype.get.call(this,"alerts/active?".concat(this.getQueryString(e,i,n,r,a))),[2,new v(o)]})})},w.prototype.getNext=function(i){return a(this,void 0,void 0,function(){var e;return s(this,function(t){return e=m.prototype.getNext.call(this,i),[2,new v(e)]})})},w.prototype.getQueryString=function(t,e,i,n,r){var a={};return t&&(a.startTime=t),e&&(a.endTime=t),i&&(a.status=i.join(",")),F(a)};var m,y=w;function w(){return m.call(this)||this}e(Y,g=i),Y.prototype.getGlossary=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,g.prototype.get.call(this,"glossary")];case 1:return[2,t.sent().glossary.reduce(function(t,e){return e.term&&e.definition&&(t[e.term]=e.definition),t},{})]}})})};var g,A=Y;function Y(){return g.call(this)||this}k.prototype.toDates=function(){for(var t=[this.startTime],e=this.startTime.getTime(),i=1;i<this.totalHours;i++)t.push(new Date(e+36e5*i));return t};var J=k;function k(t){var e=t.split("/");if(2!==e.length)throw new Error("Invalid time duration value ("+t+")");this.startTime=B(e[0]),this.hours=0,this.days=0,this.duration=e[1];var i=0;if("P"!==this.duration[0])throw new Error("Invalid time duration value ("+e[1]+")");for(var n=1;n<this.duration.length;n++)"0"<=this.duration.charAt(n)&&this.duration.charAt(n)<="9"?i=10*i+(this.duration.charCodeAt(n)-"0".charCodeAt(0)):"T"===this.duration.charAt(n)?i=0:"D"===this.duration.charAt(n)?(this.days=i,i=0):"H"===this.duration.charAt(n)&&(this.hours=i,i=0);if(0===this.days&&0===this.hours)throw new Error("Invalid time duration ("+this.duration+")");this.totalHours=24*this.days+this.hours}function Q(t){this.type=p("type",t)}var q,z,S=function(t){this.value=l("value",t),this.unit=_(p("unitCode",t)),"minValue"in t&&(this.minValue=l("minValue",t)),"maxValue"in t&&(this.minValue=l("maxValue",t)),"qualityControl"in t&&(this.minValue=l("qualityControl",t))},$=function(t,e){this.latitude=t,this.longitude=e},T=(e(tt,q=Q),tt);function tt(t){var e=q.call(this,t)||this,t=c("geometry",t),t=c("coordinates",t)[0];return e.path=t.map(function(t){return new $(t[1],t[0])}),e}(W=z=z||{}).temperature="temperature",W.dewpoint="dewpoint",W.maxTemperature="maxTemperature",W.minTemperature="minTemperature",W.relativeHumidity="relativeHumidity",W.apparentTemperature="apparentTemperature",W.heatIndex="heatIndex",W.windChill="windChill",W.wetBulbGlobeTemperature="wetBulbGlobeTemperature",W.skyCover="skyCover",W.windDirection="windDirection",W.windSpeed="windSpeed",W.windGust="windGust",W.weather="weather",W.hazards="hazards",W.probabilityOfPrecipitation="probabilityOfPrecipitation",W.quantitativePrecipitation="quantitativePrecipitation",W.iceAccumulation="iceAccumulation",W.snowfallAmount="snowfallAmount",W.snowLevel="snowLevel",W.ceilingHeight="ceilingHeight",W.visibility="visibility",W.transportWindSpeed="transportWindSpeed",W.transportWindDirection="transportWindDirection",W.mixingHeight="mixingHeight",W.hainesIndex="hainesIndex",W.lightningActivityLevel="lightningActivityLevel",W.twentyFootWindSpeed="twentyFootWindSpeed",W.twentyFootWindDirection="twentyFootWindDirection",W.waveHeight="waveHeight",W.wavePeriod="wavePeriod",W.waveDirection="waveDirection",W.primarySwellHeight="primarySwellHeight",W.primarySwellDirection="primarySwellDirection",W.secondarySwellHeight="secondarySwellHeight",W.secondarySwellDirection="secondarySwellDirection",W.wavePeriod2="wavePeriod2",W.windWaveHeight="windWaveHeight",W.dispersionIndex="dispersionIndex",W.pressure="pressure",W.probabilityOfTropicalStormWinds="probabilityOfTropicalStormWinds",W.probabilityOfHurricaneWinds="probabilityOfHurricaneWinds",W.potentialOf15mphWinds="potentialOf15mphWinds",W.potentialOf25mphWinds="potentialOf25mphWinds",W.potentialOf35mphWinds="potentialOf35mphWinds",W.potentialOf45mphWinds="potentialOf45mphWinds",W.potentialOf20mphWindGusts="potentialOf20mphWindGusts",W.potentialOf30mphWindGusts="potentialOf30mphWindGusts",W.potentialOf40mphWindGusts="potentialOf40mphWindGusts",W.potentialOf50mphWindGusts="potentialOf50mphWindGusts",W.potentialOf60mphWindGusts="potentialOf60mphWindGusts",W.grasslandFireDangerIndex="grasslandFireDangerIndex",W.probabilityOfThunder="probabilityOfThunder",W.davisStabilityIndex="davisStabilityIndex",W.atmosphericDispersionIndex="atmosphericDispersionIndex",W.lowVisibilityOccurrenceRiskIndex="lowVisibilityOccurrenceRiskIndex",W.stability="stability",W.redFlagThreatIndex="redFlagThreatIndex";var L,et=function(t){this.value=l("value",t),this.validTime=new J(p("validTime",t))},it=function(t){"uom"in t&&(this.unit=_(p("uom",t))),this.values=c("values",t).map(function(t){return new et(t)})};function nt(t,e){t=p(t,e);return L[t]}(W=L=L||{}).AKQ="AKQ",W.ALY="ALY",W.BGM="BGM",W.BOX="BOX",W.BTV="BTV",W.BUF="BUF",W.CAE="CAE",W.CAR="CAR",W.CHS="CHS",W.CLE="CLE",W.CTP="CTP",W.GSP="GSP",W.GYX="GYX",W.ILM="ILM",W.ILN="ILN",W.LWX="LWX",W.MHX="MHX",W.OKX="OKX",W.PBZ="PBZ",W.PHI="PHI",W.RAH="RAH",W.RLX="RLX",W.RNK="RNK",W.ABQ="ABQ",W.AMA="AMA",W.BMX="BMX",W.BRO="BRO",W.CRP="CRP",W.EPZ="EPZ",W.EWX="EWX",W.FFC="FFC",W.FWD="FWD",W.HGX="HGX",W.HUN="HUN",W.JAN="JAN",W.JAX="JAX",W.KEY="KEY",W.LCH="LCH",W.LIX="LIX",W.LUB="LUB",W.LZK="LZK",W.MAF="MAF",W.MEG="MEG",W.MFL="MFL",W.MLB="MLB",W.MOB="MOB",W.MRX="MRX",W.OHX="OHX",W.OUN="OUN",W.SHV="SHV",W.SJT="SJT",W.SJU="SJU",W.TAE="TAE",W.TBW="TBW",W.TSA="TSA",W.ABR="ABR",W.APX="APX",W.ARX="ARX",W.BIS="BIS",W.BOU="BOU",W.CYS="CYS",W.DDC="DDC",W.DLH="DLH",W.DMX="DMX",W.DTX="DTX",W.DVN="DVN",W.EAX="EAX",W.FGF="FGF",W.FSD="FSD",W.GID="GID",W.GJT="GJT",W.GLD="GLD",W.GRB="GRB",W.GRR="GRR",W.ICT="ICT",W.ILX="ILX",W.IND="IND",W.IWX="IWX",W.JKL="JKL",W.LBF="LBF",W.LMK="LMK",W.LOT="LOT",W.LSX="LSX",W.MKX="MKX",W.MPX="MPX",W.MQT="MQT",W.OAX="OAX",W.PAH="PAH",W.PUB="PUB",W.RIW="RIW",W.SGF="SGF",W.TOP="TOP",W.UNR="UNR",W.BOI="BOI",W.BYZ="BYZ",W.EKA="EKA",W.FGZ="FGZ",W.GGW="GGW",W.HNX="HNX",W.LKN="LKN",W.LOX="LOX",W.MFR="MFR",W.MSO="MSO",W.MTR="MTR",W.OTX="OTX",W.PDT="PDT",W.PIH="PIH",W.PQR="PQR",W.PSR="PSR",W.REV="REV",W.SEW="SEW",W.SGX="SGX",W.SLC="SLC",W.STO="STO",W.TFX="TFX",W.TWC="TWC",W.VEF="VEF",W.AER="AER",W.AFC="AFC",W.AFG="AFG",W.AJK="AJK",W.ALU="ALU",W.GUM="GUM",W.HPA="HPA",W.HFO="HFO",W.PPG="PPG",W.STU="STU",W.NH1="NH1",W.NH2="NH2",W.ONA="ONA",W.ONP="ONP";e(ct,rt=T);var rt,O,at,ot,st,ut=ct;function ct(t){var e=rt.call(this,t)||this,i=c("properties",t);return e.gridX=l("gridX",i),e.gridY=l("gridY",i),e.office=nt("gridId",i),e.elevation=new S(c("elevation",i)),e.updateTime=d("updateTime",i),e.validTimes=new J(p("validTimes",i)),e.values={},Object.keys(z).forEach(function(t){t in i&&(e.values[t]=new it(i[t]))}),e}(W=O=O||{}).metric="si",W.us="us",(W=at=at||{}).F="F",W.C="C",(W=ot=ot||{}).rising="rising",W.falling="falling",(W=st=st||{}).N="N",W.NNE="NNE",W.NE="NE",W.ENE="ENE",W.E="E",W.ESE="ESE",W.SE="SE",W.SSE="SSE",W.S="S",W.SSW="SSW",W.SW="SW",W.WSW="WSW",W.W="W",W.WNW="WNW",W.NW="NW",W.NNW="NNW";var pt,lt=function(t){var e,i;this.number=h("number",t),"name"in t&&(this.name=p("name",t)),this.startTime=d("startTime",t),this.endTime=d("endTime",t),this.isDaytime=(u(e="isDaytime",i=void 0===(i=t)?!1:i),c(e,i)),this.temperature=l("temperature",t),this.temperatureUnit=at[p("temperatureUnit",t)],this.temperatureTrend=ot[p("temperatureTrend",t)],this.windSpeed=p("windSpeed",t),"windGust"in t&&(this.windGust=p("windGust",t)),this.windDirection=st[p("windDirection",t)],"probabilityOfPrecipitation"in t&&(this.windGust=p("probabilityOfPrecipitation",t)),"dewpoint"in t&&(this.windGust=p("dewpoint",t)),"relativeHumidity"in t&&(this.windGust=p("relativeHumidity",t)),"icon"in t&&(this.icon=p("icon",t)),"shortForecast"in t&&(this.shortForecast=p("shortForecast",t)),"detailedForecast"in t&&(this.detailedForecast=p("detailedForecast",t))},ht=(e(dt,pt=T),dt);function dt(t){var e=pt.call(this,t)||this,t=c("properties",t);return e.units=O[p("units",t)],"forecastGenerator"in t&&(e.forecastGenerator=p("forecastGenerator",t)),e.generatedAt=d("generatedAt",t),e.updateTime=d("updateTime",t),e.validTimes=new J(p("validTimes",t)),e.elevation=new S(c("elevation",t)),e.periods=c("periods",t).map(function(t){return new lt(t)}),e}e(vt,ft=Q);var ft,W=vt;function vt(t){var e=ft.call(this,t)||this,t=c("geometry",t),t=c("coordinates",t);return e.latitude=t[1],e.longitude=t[0],e}e(wt,mt=W);var mt,yt=wt;function wt(t){var e=mt.call(this,t)||this,t=c("properties",t);return e.elevation=new S(c("elevation",t)),e.id=p("stationIdentifier",t),e.name=p("name",t),e.timeZone=p("timeZone",t),"forecast"in t&&(e.forecastZone=o(p("forecast",t))),"county"in t&&(e.county=o(p("county",t))),"fireWeatherZone"in t&&(e.fireWeatherZone=o(p("fireWeatherZone",t))),e}e(St,gt=f);var gt,At=St;function St(t){var e=gt.call(this,t)||this,t=c("features",t);return e.data=t.map(function(t){return new yt(t)}),e}e(M,b=i),M.prototype.getData=function(i,n,r){return a(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,b.prototype.get.call(this,"gridpoints/".concat(i,"/").concat(n,",").concat(r))];case 1:return e=t.sent(),[2,new ut(e)]}})})},M.prototype.getForecast=function(t,e,i){return a(this,arguments,void 0,function(e,i,n,t){var r;return void 0===t&&(t=O.us),s(this,function(t){switch(t.label){case 0:return[4,b.prototype.get.call(this,"gridpoints/".concat(e,"/").concat(i,",").concat(n,"/forecast"))];case 1:return r=t.sent(),[2,new ht(r)]}})})},M.prototype.getForecastHourly=function(t,e,i){return a(this,arguments,void 0,function(e,i,n,t){var r;return void 0===t&&(t=O.us),s(this,function(t){switch(t.label){case 0:return[4,b.prototype.get.call(this,"gridpoints/".concat(e,"/").concat(i,",").concat(n,"/forecast/hourly"))];case 1:return r=t.sent(),[2,new ht(r)]}})})},M.prototype.getStations=function(i,n,r){return a(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,b.prototype.get.call(this,"gridpoints/".concat(i,"/").concat(n,",").concat(r,"/stations"))];case 1:return e=t.sent(),[2,new At(e)]}})})};var b,T=M;function M(){return b.call(this)||this}e(Ot,Tt=W);var Tt,Lt=Ot;function Ot(t){var e=Tt.call(this,t)||this,t=c("properties",t);return e.city=p("city",t),e.state=p("state",t),e.distance=new S(c("distance",t)),e.bearing=new S(c("bearing",t)),e}e(Mt,Wt=W);var Wt,bt=Mt;function Mt(t){var e=Wt.call(this,t)||this,t=c("properties",t);return e.gridX=h("gridX",t),e.gridY=h("gridY",t),e.office=nt("gridId",t),e.forecastZone=o(p("forecastZone",t)),e.timeZone=p("timeZone",t),e.radarStation=p("radarStation",t),e.relativeLocation=new Lt(c("relativeLocation",t)),e.county=o(p("county",t)),e.fireWeatherZone=o(p("fireWeatherZone",t)),e}e(Nt,It=i),Nt.prototype.getPoint=function(i,n){return a(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,It.prototype.get.call(this,"points/".concat(i,",").concat(n))];case 1:return e=t.sent(),[2,new bt(e)]}})})};var It,f=Nt;function Nt(){return It.call(this)||this}e(Pt,Dt=i);var Dt,W=Pt;function Pt(){return Dt.call(this)||this}e(Ht,Gt=i);var Gt,I=Ht;function Ht(){return Gt.call(this)||this}e(Ct,Et=i),Ct.Types={land:"land",marine:"marine",forecast:"forecast",public:"public",coastal:"coastal",offshore:"offshore",fire:"fire",county:"county"};var Et,i=Ct;function Ct(){return Et.call(this)||this}var N,D,Xt,P,G,H,f={points:new f,glossary:new A,products:new W,alerts:new y,stations:new I,zones:new i,gridPoint:new T,NWSForecastOfficeId:L},A=((A=N=N||{}).CRD="CRD",A.IGLD="IGLD",A.LWD="LWD",A.MHHW="MHHW",A.MHW="MHW",A.MTL="MTL",A.MSL="MSL",A.MLW="MLW",A.MLLW="MLLW",A.NAVD="NAVD",A.STND="STND",(W=D=D||{}).water_level="water_level",W.air_temperature="air_temperature",W.water_temperature="water_temperature",W.wind="wind",W.air_pressure="air_pressure",W.air_gap="air_gap",W.conductivity="conductivity",W.visibility="visibility",W.humidity="humidity",W.salinity="salinity",W.hourly_height="hourly_height",W.high_low="high_low",W.daily_mean="daily_mean",W.monthly_mean="monthly_mean",W.one_minute_water_level="one_minute_water_level",W.predictions="predictions",W.datums="datums",W.currents="currents",(y=Xt=Xt||{}).gmt="gmt",y.lst="lst",y.lst_ldt="lst_ldt",(I=P=P||{}).h="h",I.hilo="hilo",(i=G=G||{}).json="json",i.xml="xml",i.csv="csv",(T=H=H||{}).metric="metric",T.english="english",E.prototype.getLatest=function(){return this.params.date="latest",this.get()},E.prototype.getRecent=function(){return this.params.date="recent",this.get()},E.prototype.getToday=function(){return this.params.date="today",this.get()},E.prototype.getLastHours=function(t){return this.params.range=t,this.get()},E.prototype.getHoursAfter=function(t,e){return this.params.begin_date=r(t),this.params.range=e,this.get()},E.prototype.getHoursBefore=function(t,e){return this.params.end_date=r(t),this.params.range=e,this.get()},E.prototype.getDateRange=function(t,e){return this.params.begin_date=r(t),this.params.end_date=r(e),this.get()},E.prototype.get=function(){var r=this,a=this;return new Promise(function(e,i){var n=new XMLHttpRequest,t=x(E.url,r.params);n.open("GET",t),n.onload=function(){var t;200<=n.status&&n.status<300?(t=JSON.parse(n.response)).error?i(t.error):((t=a.parseResponse(t)).parameters=Object.assign({},a.params),e(t)):i(n)},n.onerror=function(){i(n)},n.send()})},E.prototype.parseResponse=function(t){return t},E.url="https://api.tidesandcurrents.noaa.gov/api/prod/datagetter",E);function E(t,e,i,n,r){if(void 0===i&&(i=void 0),void 0===n&&(n=void 0),void 0===r&&(r="metric"),!(e in D))throw new Error("Invalid data product");if(!(r in H))throw new Error("Invalid units");if(this.params={},this.params.station=t,this.params.product=e,this.params.format=G.json,this.params.units=r,this.params.time_zone=Xt.gmt,i){if(!(i in N))throw new Error("Invalid datum value");this.params.datum=i}if(n){if(!(n in P))throw new Error("Invalid interval");this.params.interval=n}}e(xt,Rt=A),xt.prototype.parseResponse=function(t){var e=[];return t.datums.forEach(function(t){e.push({name:t.n,value:parseFloat(t.v),unit:"m"})}),e};var Rt,Ft=xt;function xt(t){return Rt.call(this,t,D.datums,void 0,void 0,H.metric)||this}e(Ut,Bt=A),Ut.prototype.parseResponse=function(t){var i=[];return t.predictions.forEach(function(t){var e;i.push({time:(e=t.t,new Date(Date.parse(e.replace(" ","T")+":00+00:00"))),value:parseFloat(t.v),type:t.type})}),i};var Bt,_t=Ut;function Ut(t,e){return e=e||N.STND,Bt.call(this,t,D.predictions,e,P.hilo,H.metric)||this}e(Zt,Kt=A),Zt.prototype.parseResponse=function(t){return t};var Kt,Vt=Zt;function Zt(t,e){return Kt.call(this,t,D.wind,void 0,e,H.metric)||this}C.prototype.stations=function(i){return a(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return e="stations.json",i&&(e=x(e,{type:i})),[4,this.get(e)];case 1:return[2,t.sent().stations]}})})},C.prototype.station=function(n){return a(this,void 0,void 0,function(){var e,i;return s(this,function(t){switch(t.label){case 0:return e="stations/".concat(n,".json"),[4,this.get(e)];case 1:if(e=t.sent(),(i=e.stations)&&1===i.length)return[2,i[0]];throw new Error("API did not return any data for station id ".concat(n))}})})},C.prototype.get=function(r){return a(this,void 0,void 0,function(){var e,i,n;return s(this,function(t){switch(t.label){case 0:return n="".concat(C.baseUrl,"/").concat(r),[4,fetch(n)];case 1:if(!1!==(e=t.sent()).ok)return[3,6];i=null,t.label=2;case 2:return t.trys.push([2,4,,5]),[4,e.json()];case 3:return"errorMsg"in(n=t.sent())&&(i=n.errorMsg),[3,5];case 4:return t.sent(),[3,5];case 5:throw new Error(null!=i?i:"API responded with status ".concat(e.status," (").concat(e.statusText,")"));case 6:return[4,e.json()];case 7:return[2,t.sent()]}})})},C.baseUrl="https://api.tidesandcurrents.noaa.gov/mdapi/prod/webapi";var jt,W=C;function C(){}(y=jt=jt||{}).waterlevels="waterlevels",y.historicwl="historicwl",y.met="met",y.waterlevelsandmet="waterlevelsandmet",y.tidepredictions="tidepredictions",y.harcon="harcon",y.datums="datums",y.supersededdatums="supersededdatums",y.benchmarks="benchmarks",y.supersededbenchmarks="supersededbenchmarks",y.currents="currents",y.historiccurrents="historiccurrents",y.surveycurrents="surveycurrents",y.currentpredictions="currentpredictions",y.cond="cond",y.watertemp="watertemp",y.physocean="physocean",y.tcoon="tcoon",y.oneminute="1minute",y.airgap="airgap",y.visibility="visibility",y.highwater="highwater",y.lowwater="lowwater";I={Format:G,Datum:N,DataProduct:D,Units:H,Interval:P,StationType:jt,data:{predictions:function(t,e){return new _t(t,e)},datums:function(t){return new Ft(t)},wind:function(t,e){return new Vt(t,e)}},metadata:new W};t.MarineAreaCodes={PZ:"PZ",PK:"PK",PH:"PH",PS:"PS",PM:"PM",AN:"AN",AM:"AM",GM:"GM",LS:"LS",LM:"LM",LH:"LH",LC:"LC",LE:"LE",LO:"LO"},t.RegionCodes={AL:"AL",AT:"AT",GL:"GL",GM:"GM",PA:"PA",PI:"PI"},t.StateAreaCodes={AL:"AL",AK:"AK",AS:"AS",AR:"AR",AZ:"AZ",CA:"CA",CO:"CO",CT:"CT",DE:"DE",DC:"DC",FL:"FL",GA:"GA",GU:"GU",HI:"HI",ID:"ID",IL:"IL",IN:"IN",IA:"IA",KS:"KS",KY:"KY",LA:"LA",ME:"ME",MD:"MD",MA:"MA",MI:"MI",MN:"MN",MS:"MS",MO:"MO",MT:"MT",NE:"NE",NV:"NV",NH:"NH",NJ:"NJ",NM:"NM",NY:"NY",NC:"NC",ND:"ND",OH:"OH",OK:"OK",OR:"OR",PA:"PA",PR:"PR",RI:"RI",SC:"SC",SD:"SD",TN:"TN",TX:"TX",UT:"UT",VT:"VT",VI:"VI",VA:"VA",WA:"WA",WV:"WV",WI:"WI",WY:"WY"},t.TidesAndCurrents=I,t.Weather=f});